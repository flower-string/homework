# 一、设计题目

电子英汉词典

# 二、设计目的

进一步巩固Java基础理论和知识，加深Java面向对象特性的理解，锻炼利用开发工具实现Java应用软件的基本技能，提高利用面向对象程序设计方法解决实际问题的能力。

# 三、设计原理及方案

## 1. 使用的软件及环境

软件工具：IntelliJ IDEA 2023.1

运行环境：Windows 10，jdk 1.8，maven3.9.1

## 2. 需求分析与概要设计

### 2.1 需求分析

1. 可以新建词库，展示词库列表。
2. 可以对针对词库，进行对单词的查询，修改添加和删除。
3. 实现背单词的小游戏。

### 2.2 目录结构

项目使用maven构建，因此建立了maven约定好的项目结构

 .gitignore                git忽略文件
│  pom.xml              maven配置文件
│  README.md       项目自述文件
│ 
├─data           用户数据目录，每个文件夹代表一个用户
│  ├─admin
│  │      cet.txt
│  │      
│  └─yunyun
│          cet.txt
│          关键词.txt      
│
├─src     源代码目录
│  └─main
│      └─java
│          └─org
│              └─example
│                  │  cet.txt   默认词库
│                  │  icon.png    应用程序图标
│                  │  Main.java    入口主类
│                  │
│                  ├─components   组件
│                  │      ThemeComboBox.java   主题切换按钮
│                  │      Word.java   单词类
│                  │      WordDialog.java   单词对话框，用于接收新增和修改单词时的用户输入
│                  │      WordPanel.java   单词展示面板，用于展示单词信息和对该单词进行修改和删除的按钮
│                  │
│                  ├─pages   页面
│                  │      GamePage.java   小游戏页面
│                  │      LoginPage.java   登录页面
│                  │      MainPage.java   主要页面，词典页面
│                  │
│                  └─utils   工具类
│                          BookHandler.java    读取单词本（词库）
│                          Cache.java   缓存类，用于临时存储数据
│                          SceneManager.java   场景管理器，用于页面管理和切换
│                          Theme.java    设置全局样式

│                         TxtConverter.java    修改文本的存储格式
│                          WordRender.java   从词库中读取单词为列表
│                          YouDao.java   有道开放api

### 2.3 概要类图

![image-20230612185937185](E:\MD\img\image-20230612185937185.png)

### 2.4 第三方依赖项

| 依赖                             | 介绍                              |
| -------------------------------- | --------------------------------- |
| flatlaf                          | javaswing的美化包，提供了四种主题 |
| alibaba.fastjson                 | 用于解析json字符串                |
| apache.httpcomponents.httpcore   | 处理网络请求的跨域问题            |
| apache.httpcomponents.httpclient | 发起网络请求                      |

## 3. 数据库设计

本次词库使用文本文件存储，没有使用数据库。

## 4. 详细设计和关键问题

各写各的

# 四、实现效果

本项目实现了一个具有查询，新增删除单词，建立词库，和背单词小游戏的电子英汉词典，项目共包含三个页面

## 1. 登录页面

登录页面有一个输入框和一个登录按钮，在输入框中输入用户名，点击登录后可以登录并查看之间创建的词库，如果是第一次登录则会自动在data目录下创建一个对应的文件夹，并导入默认的cet词库。

![image-20230612191729903](E:\MD\img\image-20230612191729903.png)

## 2. 词典页面

词典页面分为三栏。

![image-20230612191802340](E:\MD\img\image-20230612191802340.png)

第一栏有四个按钮，功能分别为主题切换、新建单词、新建词库、开始背单词小游戏。

主题切换按钮可以选择将当前的主题切换到flatlat提供的四种主题中的一种。

![image-20230612191901587](E:\MD\img\image-20230612191901587.png)

添加单词的按钮可以在当前词库中新增一个单词。

![image-20230612191948340](E:\MD\img\image-20230612191948340.png)

新建单词本的按钮可以为当前用户建立一个专属的词库。

![image-20230612192039180](E:\MD\img\image-20230612192039180.png)

点击小游戏按钮会切换到小游戏界面。

第二栏包含一个词库选择按钮，一个输入框和两个查询按钮。

词库选择按钮可以切换词库，并更新最后一栏的单词列表。

![image-20230612192135476](E:\MD\img\image-20230612192135476.png)

在输入框中输入单词，点击两个按钮可以分别实现基于本地词库的查询和基于有道开放api的联网查询。

![image-20230612192205933](E:\MD\img\image-20230612192205933.png)

![image-20230612192227252](E:\MD\img\image-20230612192227252.png)

最后一栏为单词列表，展示了当前词库中的单词，和针对每个单词的删除和修改的按钮，单词溢出后会以滚动栏的方式呈现。

![image-20230612192344917](E:\MD\img\image-20230612192344917.png)



## 3. 小游戏页面

小游戏的实现比较简单，会从默认的词库中抽取单词让用户拼写，如果拼写正确则得分加一，用户可以随时切换到下一个单词或者退出小游戏。

![image-20230612192418835](E:\MD\img\image-20230612192418835.png)

# 五、设计体会

各写各的

